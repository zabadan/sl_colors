#include "../ast.hpp"
#include "../context.hpp"
#include "../parser.hpp"
<<<<<<< HEAD
=======
#include "../to_string.hpp"
>>>>>>> 60c0efd51e9c4271a396c74cb37c9681801184ab
#include <string>
#include <iostream>

using namespace Sass;

Context ctx = Context::Data();
<<<<<<< HEAD
=======
To_String to_string;
>>>>>>> 60c0efd51e9c4271a396c74cb37c9681801184ab

Compound_Selector* selector(std::string src)
{ return Parser::from_c_str(src.c_str(), ctx, "", Position()).parse_compound_selector(); }

void diff(std::string s, std::string t)
{
<<<<<<< HEAD
  std::cout << s << " - " << t << " = " << selector(s + ";")->minus(selector(t + ";"), ctx)->to_string() << std::endl;
=======
  std::cout << s << " - " << t << " = " << selector(s + ";")->minus(selector(t + ";"), ctx)->perform(&to_string) << std::endl;
>>>>>>> 60c0efd51e9c4271a396c74cb37c9681801184ab
}

int main()
{
  diff(".a.b.c", ".c.b");
  diff(".a.b.c", ".fludge.b");

  return 0;
}
